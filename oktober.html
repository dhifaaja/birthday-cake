<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday!</title>
<style>
  body { text-align: center; font-family: sans-serif; margin-top: 50px; }
  .cake { font-size: 50px; }
  .candle { display: inline-block; font-size: 40px; margin: 0 5px; }
  .lit { color: orange; }
</style>
</head>
<body>
<h1>ðŸŽ‚ Happy Birthday! ðŸŽ‰</h1>
<div class="cake" id="cake">
  <!-- Tambahkan lilin di sini -->
  <span class="candle lit">ðŸ•¯</span>
  <span class="candle lit">ðŸ•¯</span>
  <span class="candle lit">ðŸ•¯</span>
</div>
<p>Blow into your microphone to blow out the candles!</p>

<script>
  // Pilihan: tambahkan lilin sesuai keinginan
  const candles = document.querySelectorAll('.candle');

  // Deteksi suara lewat mic
  navigator.mediaDevices.getUserMedia({ audio: true })
    .then(stream => {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const source = audioContext.createMediaStreamSource(stream);
      const analyser = audioContext.createAnalyser();
      source.connect(analyser);
      analyser.fftSize = 512;
      const dataArray = new Uint8Array(analyser.frequencyBinCount);

      function detectBlow() {
        analyser.getByteFrequencyData(dataArray);
        let sum = 0;
        for(let i = 0; i < dataArray.length; i++) sum += dataArray[i];
        if(sum > 10000) { // sesuaikan threshold kalau terlalu sensitif
          candles.forEach(c => c.classList.remove('lit'));
        }
        requestAnimationFrame(detectBlow);
      }
      detectBlow();
    })
    .catch(err => console.log('Microphone access denied or not available:', err));
</script>
</body>
</html> 
<div class="cake" id="cake">
  <span class="candle lit">ðŸ•¯</span>
  <span class="candle lit">ðŸ•¯</span>
  <span class="candle lit">ðŸ•¯</span>
</div>
<script>
  const candles = document.querySelectorAll('.candle');

  navigator.mediaDevices.getUserMedia({ audio: true })
    .then(stream => {
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();
      const source = audioContext.createMediaStreamSource(stream);
      const analyser = audioContext.createAnalyser();
      source.connect(analyser);
      analyser.fftSize = 512;
      const dataArray = new Uint8Array(analyser.frequencyBinCount);

      function detectBlow() {
        analyser.getByteFrequencyData(dataArray);
        let sum = 0;
        for(let i = 0; i < dataArray.length; i++) sum += dataArray[i];
        if(sum > 10000) { // threshold tiupan, bisa diubah kalau terlalu sensitif
          candles.forEach(c => c.classList.remove('lit')); // lilin padam
        }
        requestAnimationFrame(detectBlow);
      }
      detectBlow();
    })
    .catch(err => console.log('Microphone access denied:', err));
</script>
